<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<th:block th:fragment="headerFragment(activeTab)">
    <header>
        <script>
            function changeDisplay() {

                var con = document.getElementById('dd-content');

                if (con.style.display == 'none') {
                    con.style.display = 'block';
                } else {
                    con.style.display = 'none';
                }
            }
        </script>


        <!-- 네비게이션 바 -->
        <nav class="navbar navbar-expand-sm">

            <div class="navbar-collapse collapse justify-content-start" id="navbarSupportedContent">
                <a class="navbar-brand logo-a" href="/" th:href="@{/}">복덕복덕</a>

                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link menu-a" th:classappend="${activeTab == 'review'} ? 'activetab'" th:href="@{/review/list}">리뷰</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link menu-a" th:href="@{/community/list}" th:classappend="${activeTab == 'community'} ? 'activetab'">커뮤니티</a>
                    </li>
                    <li class="nav-item" sec:authorize="hasRole('ROLE_MANAGE')">
                        <a class="nav-link menu-a" th:classappend="${activeTab == 'managePage'} ? 'activetab'" th:href="@{/manage}">관리자페이지</a>
                    </li>

                </ul>

                <!-- 로그인을 안 했을 때 -->
                <ul sec:authorize="!isAuthenticated()" class="nav justify-content-end">
                    <li class="nav-item">
                        <a class="nav-link menu-aa" th:href="@{/login}">로그인</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link menu-aa" th:href="@{/signup}">회원가입</a>
                    </li>
                </ul>

                <!-- 로그인한 상태 -->
                <div sec:authorize="isAuthenticated()" id="dd-button" class="mypage-dropdown justify-content-end" onclick="javascript:changeDisplay();">
                    <!-- 사람 아이콘 -->
                    <svg style="filter: invert(71%) sepia(83%) saturate(1618%) hue-rotate(147deg) brightness(88%) contrast(87%);" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" height="32" viewBox="0 0 512 512" width="32"><g><path d="m399.98 402.421c.018-1.072.024-2.147.018-3.224-.43-78.454-64.434-142.599-142.887-143.193-79.91-.606-145.111 64.224-145.111 143.996 0 1.112.013 2.222.038 3.328 1.095 48.019 34.827 89.15 81.4 100.897 20.319 5.125 41.328 7.775 62.562 7.775 21.23 0 42.235-2.649 62.551-7.772 46.901-11.827 80.627-53.444 81.429-101.807z"/><path d="m437.012 74.972c-48.069-48.065-113.036-74.972-181.013-74.972-68.38 0-132.667 26.629-181.019 74.98-48.352 48.352-74.98 112.639-74.98 181.02 0 60.347 21.397 118.944 60.256 165.004 4.528 5.361 9.288 10.549 14.245 15.531 3.463 3.48 9.315.339 8.423-4.489-1.92-10.394-2.924-21.105-2.924-32.046 0-73.03 44.711-135.812 108.198-162.414 3.295-1.381 4.145-5.705 1.56-8.172-19.08-18.214-30.69-44.188-29.699-72.803 1.731-49.986 42.17-90.602 92.149-92.537 54.654-2.117 99.792 41.733 99.792 95.926 0 27.273-11.435 51.921-29.759 69.414-2.584 2.467-1.733 6.791 1.561 8.172 63.487 26.602 108.198 89.384 108.198 162.414 0 10.941-1.004 21.652-2.925 32.045-.892 4.828 4.96 7.969 8.423 4.489 4.958-4.983 9.72-10.172 14.25-15.537 38.855-46.052 60.252-104.649 60.252-164.997 0-68.385-26.631-132.676-74.988-181.028z"/><circle cx="256" cy="160" r="64"/></g></svg>

                    <!-- 화살표 아이콘 -->
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                         width="10px" height="10px" viewBox="0 0 451.847 451.847" style="enable-background:new 0 0 451.847 451.847;"
                         xml:space="preserve"><g><path d="M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
		                 c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
		                 c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>

                    <div id="dd-content" class="mypage-dropdown-content">
                        <div id="mypage-dropdown-content-icon">
                            <div id="icon">
                                <svg style="filter: invert(71%) sepia(83%) saturate(1618%) hue-rotate(147deg) brightness(88%) contrast(87%);" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 64 64" height="64" viewBox="0 0 512 512" width="64"><g><path d="m399.98 402.421c.018-1.072.024-2.147.018-3.224-.43-78.454-64.434-142.599-142.887-143.193-79.91-.606-145.111 64.224-145.111 143.996 0 1.112.013 2.222.038 3.328 1.095 48.019 34.827 89.15 81.4 100.897 20.319 5.125 41.328 7.775 62.562 7.775 21.23 0 42.235-2.649 62.551-7.772 46.901-11.827 80.627-53.444 81.429-101.807z"/><path d="m437.012 74.972c-48.069-48.065-113.036-74.972-181.013-74.972-68.38 0-132.667 26.629-181.019 74.98-48.352 48.352-74.98 112.639-74.98 181.02 0 60.347 21.397 118.944 60.256 165.004 4.528 5.361 9.288 10.549 14.245 15.531 3.463 3.48 9.315.339 8.423-4.489-1.92-10.394-2.924-21.105-2.924-32.046 0-73.03 44.711-135.812 108.198-162.414 3.295-1.381 4.145-5.705 1.56-8.172-19.08-18.214-30.69-44.188-29.699-72.803 1.731-49.986 42.17-90.602 92.149-92.537 54.654-2.117 99.792 41.733 99.792 95.926 0 27.273-11.435 51.921-29.759 69.414-2.584 2.467-1.733 6.791 1.561 8.172 63.487 26.602 108.198 89.384 108.198 162.414 0 10.941-1.004 21.652-2.925 32.045-.892 4.828 4.96 7.969 8.423 4.489 4.958-4.983 9.72-10.172 14.25-15.537 38.855-46.052 60.252-104.649 60.252-164.997 0-68.385-26.631-132.676-74.988-181.028z"/><circle cx="256" cy="160" r="64"/></g></svg>

                            </div>
                            <p id="mypage-dropdown-content-icon-text-1"><span th:text="${#authentication.name}" style="display:inline-block; width: 70px; margin:0px, padding:0px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"></span><span style="display:inline-block; margin:0px, padding:0px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">님</span></p>

                        </div>

                        <hr/>

                        <div id="mypage-dropdown-content-button-1">
                            <p style="text-align:center;position:relative;top:25%">
                                <a class="menu-aa" th:href="@{/mypage}" >마이페이지</a></p>
                        </div>

                        <hr/>

                        <div id="mypage-dropdown-content-button-2">
                            <p style="text-align:center;position:relative;top:25%"><a class="menu-aa" href="/logout">로그아웃</a></p>
                        </div>
                    </div>

                </div>




            </div>
        </nav>

    </header>
</th:block>

<!-- 푸터 -->
<th:block th:fragment="footerFragment">
    <footer class="jumbotron jumbotron-fluid text-center banner" style="margin-bottom:0; background-color:#eeeeee">



        <p class="footer-menu-items footer-menu-items-1">INFO</p>
        <p class="footer-menu-items footer-menu-items-1">SUPPORT</p>
        <p class="footer-menu-items footer-menu-items-1">CONNECTION</p>

        <br/>

        <p class="footer-menu-items footer-menu-items-2">이용약관</p>
        <p class="footer-menu-items footer-menu-items-2">&nbsp;&nbsp;|&nbsp;&nbsp;</p>
        <p class="footer-menu-items footer-menu-items-2">개인정보취급방침</p>

        <p class="footer-menu-items footer-menu-items-3">&copy;Mega IT 4th Team1</p>
    </footer>
</th:block>


</html>